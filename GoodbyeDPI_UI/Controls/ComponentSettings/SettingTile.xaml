<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="CDPI_UI.SettingTile"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CDPI_UI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    mc:Ignorable="d"
    xmlns:l="using:WinUI3Localizer">

    <Grid CornerRadius="10" Margin="0 0 0 0" VerticalAlignment="Top">
        <Border CornerRadius="10" BorderBrush="{ThemeResource CardStrokeColorDefaultSolidBrush}" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" BorderThickness="1"/>
        <StackPanel Padding="1" Spacing="0">
            <Grid>
                <Grid Padding="15 10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="auto"/>
                    </Grid.ColumnDefinitions>
                    <FontIcon x:Name="FontIcon" Glyph="{x:Bind IconGlyph}" HorizontalAlignment="Left" Visibility="Collapsed"/>
                    <TextBlock x:Name="TitleTextBlock" Grid.Column="2" Text="{x:Bind Title}" Style="{ThemeResource SubtitleTextBlockStyle}" TextWrapping="Wrap" Visibility="Collapsed"/>
                    <Button x:Name="HelpButton" Grid.Column="4" Padding="6" Background="Transparent" BorderBrush="Transparent">
                        <ToolTipService.ToolTip>
                            <TextBlock l:Uids.Uid="/Flashlight/WhatDoesItMeanTextBlock"/>
                        </ToolTipService.ToolTip>
                        <FontIcon Glyph="&#xE9CE;" FontSize="16"/>
                        <Button.Flyout>
                            <Flyout Placement="Left">
                                <StackPanel MaxWidth="400">
                                    <TextBlock l:Uids.Uid="/Flashlight/WhatDoesItMeanTextBlock" Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                                    <TextBlock Text="{x:Bind Description}" TextWrapping="Wrap"/>
                                </StackPanel>
                            </Flyout>
                        </Button.Flyout>
                    </Button>
                    <TextBlock x:Name="DescriptionTextBlock" Text="{x:Bind Description}" TextWrapping="Wrap" Visibility="Collapsed"/>
                </Grid>
                <Button x:Name="MoreActionsButton" HorizontalAlignment="Right" VerticalAlignment="Top" Padding="6" Margin="0 20 20 0" Visibility="Collapsed">
                    <FontIcon Glyph="&#xE712;" FontSize="16"/>
                    <Button.Flyout>
                        <MenuFlyout>
                            <MenuFlyoutItem x:Name="AddWidgetToHomePageMenuItem" Text="Add widget to home page" Click="AddWidgetToHomePageMenuItem_Click">
                                <MenuFlyoutItem.Icon>
                                    <FontIcon x:Name="AddWidgetFontIcon" Glyph="&#xE718;" />
                                </MenuFlyoutItem.Icon>
                            </MenuFlyoutItem>
                        </MenuFlyout>
                    </Button.Flyout>
                </Button>
            </Grid>
            <Rectangle Height="1" HorizontalAlignment="Stretch" Fill="{ThemeResource CardStrokeColorDefaultSolidBrush}" VerticalAlignment="Top"/>
            <ScrollViewer VerticalScrollMode="Enabled" VerticalScrollBarVisibility="Visible" VerticalAlignment="Stretch"
                      MaxHeight="250">
                <ContentPresenter Content="{x:Bind InnerContent, Mode=OneWay}"/>
            </ScrollViewer>
        </StackPanel>
    </Grid>
</UserControl>
