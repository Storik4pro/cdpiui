<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Name="RootControl"
    x:Class="CDPI_UI.StoreItemLargeButton"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CDPI_UI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:media="using:Microsoft.UI.Xaml.Media"
    mc:Ignorable="d"
    MinWidth="175" MinHeight="220"
    MaxHeight="220"
    Margin="0, 0, 0, 0" >
    <UserControl.Resources>
        <Style x:Key="StoreLargeButtonStyle" TargetType="Button">
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="BorderBrush" Value="{ThemeResource CardStrokeColorDefaultSolidBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>
        <Style x:Key="BackgroudRectangleDefaultStyle" TargetType="Rectangle">
            <Setter Property="Fill" Value="{ThemeResource SubtleFillColorSecondaryBrush}"/>
        </Style>
        <Style x:Key="BackgroudRectangleHoverStyle" TargetType="Rectangle">
            <Setter Property="Fill" Value="{ThemeResource SubtleFillColorTertiaryBrush}"/>
        </Style>
    </UserControl.Resources>
    <Grid x:Name="PART_ShadowHost" RenderTransformOrigin="0.5,0.5">
        <Grid.RenderTransform>
            <TranslateTransform x:Name="PART_Translate" />
        </Grid.RenderTransform>
        <Grid.Resources>
            <ThemeShadow x:Name="SharedShadow" />
        </Grid.Resources>
        <Grid x:Name="BackgroundGrid" Background="Transparent" />

        <Button x:Name="PART_Button" 
                HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" 
                MinWidth="160" MinHeight="220"
                Style="{StaticResource StoreLargeButtonStyle}" 
                PointerEntered="OnButtonPointerEntered" PointerExited="OnButtonPointerExited"
                Shadow="{StaticResource SharedShadow}"
                Click="PART_Button_Click">
            <Button.Content>
                <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="130"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0">
                        <Rectangle x:Name="ImageBackgroundGradientRectangle" 
                                   VerticalAlignment="Stretch" HorizontalAlignment="Stretch" RadiusX="40" RadiusY="40">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="{x:Bind CardBackgroundColor}"/>
                            </Rectangle.Fill>
                        </Rectangle>
                        <Rectangle>
                            <Rectangle.Fill>
                                <media:AcrylicBrush x:Name="AcrylicBrush" TintOpacity="0.7">
                                </media:AcrylicBrush>
                            </Rectangle.Fill>
                        </Rectangle>
                        <Image x:Name="PART_Image" Source="{x:Bind CardImageSource}" Width="70" Height="70"/>
                    </Grid>

                    <Rectangle x:Name="PART_BottomRect"
                               Grid.Row="1" Style="{StaticResource BackgroudRectangleDefaultStyle}"
                               HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                    <Grid Grid.Row="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="auto"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="{x:Bind CardTitle}" Style="{ThemeResource BodyStrongTextBlockStyle}" 
                                   Margin="15, 5" />
                        <Grid Grid.Row="1" HorizontalAlignment="Stretch" Padding="15, 12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="{x:Bind CardDeveloper}" Style="{ThemeResource CaptionTextBlockStyle}" Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                       TextWrapping="NoWrap" VerticalAlignment="Center"/>
                            <Grid Grid.Row="1" HorizontalAlignment="Right" Grid.Column="1">
                                <Rectangle Fill="{ThemeResource SubtleFillColorSecondaryBrush}" RadiusX="3" RadiusY="3"/>
                                <TextBlock Text="{x:Bind CardPrice}" Style="{ThemeResource CaptionTextBlockStyle}" Margin="8, 2"/>
                            </Grid>
                        </Grid>
                    </Grid>
                </Grid>
            </Button.Content>
        </Button>
    </Grid>
</UserControl>
