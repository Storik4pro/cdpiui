<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="GoodbyeDPI_UI.Views.ViewOutputPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:GoodbyeDPI_UI.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition x:Name="FuncBar" Height="32"/>
            <RowDefinition x:Name="ViewHeader" Height="Auto"/>
            <RowDefinition x:Name="View" Height="*"/>
            <RowDefinition x:Name="StatusBar" Height="28"/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" Height="36">
            <Rectangle Fill="{ThemeResource LayerOnMicaBaseAltFillColorDefault}" Height="32" Width="Auto" VerticalAlignment="Top"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition x:Name="Menu" Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition x:Name="Quick" Width="Auto" />
                </Grid.ColumnDefinitions>
                <MenuBar Grid.Column="0" Margin="0" Height="32" MinHeight="32" VerticalAlignment="Top" Padding="0">
                    <MenuBarItem Title="File" Margin="5, 0">
                        <MenuFlyoutItem x:Name="SaveButton" Text="Save output to file" >
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE74E;" />
                            </MenuFlyoutItem.Icon>
                            <MenuFlyoutItem.KeyboardAccelerators>
                                <KeyboardAccelerator Modifiers="Control" Key="S"/>
                            </MenuFlyoutItem.KeyboardAccelerators>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem Text="Exit" >
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE711;" />
                            </MenuFlyoutItem.Icon>
                            <MenuFlyoutItem.KeyboardAccelerators>
                                <KeyboardAccelerator Modifiers="Menu" Key="F4"/>
                            </MenuFlyoutItem.KeyboardAccelerators>

                        </MenuFlyoutItem>
                    </MenuBarItem>

                    <MenuBarItem Title="Process" Margin="5, 0">
                        <MenuFlyoutItem x:Name="ProcessControl" Text="Kill Current Process" >
                            <MenuFlyoutItem.Icon>
                                <FontIcon x:Name="ProcessControlIcon" Glyph="&#xE71A;" />
                            </MenuFlyoutItem.Icon>
                            <MenuFlyoutItem.KeyboardAccelerators>
                                <KeyboardAccelerator Modifiers="Control" Key="F5"/>
                            </MenuFlyoutItem.KeyboardAccelerators>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem x:Name="ProcessExit" Text="End all operations" >
                        </MenuFlyoutItem>
                    </MenuBarItem>

                    <MenuBarItem Title="View" Margin="5, 0">
                        <MenuFlyoutItem Text="Font" >
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE8D2;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutSeparator/>
                        <MenuFlyoutSubItem Text="AutoScroll">
                            <RadioMenuFlyoutItem x:Name="EnableAutoScrollButton" Text="Enable" GroupName="OrientationGroup"/>
                            <RadioMenuFlyoutItem x:Name="DisableAutoScrollButton" Text="Disable" GroupName="OrientationGroup" />
                            <MenuFlyoutSubItem.Icon>
                                <FontIcon Glyph="&#xECE7;" />
                            </MenuFlyoutSubItem.Icon>
                        </MenuFlyoutSubItem>
                    </MenuBarItem>

                    <MenuBarItem Title="Help" Margin="5, 0">
                        <MenuFlyoutItem x:Name="SupportButton" Text="Visit GitHub page">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE8A7;" />
                            </MenuFlyoutItem.Icon>
                            <MenuFlyoutItem.KeyboardAccelerators>
                                <KeyboardAccelerator Key="F1"/>
                            </MenuFlyoutItem.KeyboardAccelerators>
                        </MenuFlyoutItem>

                    </MenuBarItem>
                </MenuBar>
            </Grid>
        </Grid>
        <ListView x:Name="LogListView"
                  SelectionMode="None"
                  IsItemClickEnabled="False"
                  IsSwipeEnabled="False"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"
                  Grid.Row="2">
            <ListView.ItemsPanel>
                <ItemsPanelTemplate>
                    <ItemsStackPanel Orientation="Vertical" />
                </ItemsPanelTemplate>
            </ListView.ItemsPanel>

            <ListView.ItemTemplate>
                <DataTemplate x:DataType="x:String">
                    <TextBlock Text="{Binding}"
                       FontFamily="Consolas"
                       FontSize="16"
                       TextWrapping="Wrap"/>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        <ScrollViewer x:Name="OutputScrollViewer" Grid.Row="2"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Background="Black" >

            <RichTextBlock x:Name="OutputRichTextBlock"
                            FontFamily="Consolas"
                            FontSize="16"
                            Foreground="White"
                            TextWrapping="Wrap"
                            IsTextSelectionEnabled="True"
                            Padding="20"
                            SelectionHighlightColor="Gray">
                <Paragraph x:Name="OutputParagraph"/>
            </RichTextBlock>

        </ScrollViewer>
        <Grid Grid.Row="3">
            <Rectangle Fill="{ThemeResource LayerOnMicaBaseAltFillColorDefault}" Height="28" Width="Auto" VerticalAlignment="Top"/>
        </Grid>
    </Grid>
</Page>
