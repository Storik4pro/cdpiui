<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Name="StoreHomePage"
    x:Class="GoodbyeDPI_UI.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:GoodbyeDPI_UI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:helper="using:GoodbyeDPI_UI.Helper"
    xmlns:toolkit="using:CommunityToolkit.WinUI.Controls" 
    xmlns:animation="using:System.Windows.Media.Animation"
    xmlns:labs="using:CommunityToolkit.Labs.WinUI">

    <Page.Resources>
        <ItemsPanelTemplate x:Key="DefaultItemsPanel">
            <ItemsWrapGrid 
                Orientation="Vertical"
                ItemWidth="{Binding DataContext.LargeElementWidth, ElementName=StoreHomePage, Mode=OneWay}"/>
        </ItemsPanelTemplate>
    </Page.Resources>

    <Grid x:Name="RootGrid">
        <Grid x:Name="LoadingGrid" HorizontalAlignment="Center" VerticalAlignment="Stretch" Canvas.ZIndex="10">
            <StackPanel VerticalAlignment="Center">
                <Image Source="/Assets/Square44x44Logo.png" Width="100" Margin="0, 0, 0, 20"/>
                <ProgressRing IsActive="True" Background="Transparent"/>
                
            </StackPanel>
            <TextBlock Text="Магазину требуется кое-что обновить, прежде чем вы сможете его использовать. Это не займет много времени"
                MaxWidth="400" TextWrapping="Wrap" HorizontalAlignment="Center" TextAlignment="Center"
                VerticalAlignment="Bottom" Margin="0, 0, 0, 20"/>
        </Grid>
        <ScrollViewer 
            x:Name="ErrorScrollViewer"
            Padding="40,0,20,0"
            Margin="0, 20, 0, 0"
            IsTabStop="False"
            UseSystemFocusVisuals="False"
            VerticalScrollBarVisibility="Auto"
            VerticalScrollMode="Auto"
            Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Stretch">
                <Grid  HorizontalAlignment="Stretch" Margin="0, 0, 0, 10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text=":(" Style="{ThemeResource DisplayTextBlockStyle}"/>
                    <TextBlock Text="Магазин не смог выполнить обновление базы данных" Style="{ThemeResource TitleTextBlockStyle}" Margin="20, 15, 0, 0"
                               TextWrapping="Wrap" MaxLines="10" Grid.Column="1" VerticalAlignment="Center"/>
                </Grid>
                <TextBlock 
                    Text="К сожалению, магазин сейчас не доступен. Вы все ещё можете просматривать вашу библиотеку, но функционал может быть ограничен." 
                    TextWrapping="Wrap"/>
                <Grid HorizontalAlignment="Left" Margin="0, 20, 0, 0">
                    <Rectangle Fill="{ThemeResource CardStrokeColorDefaultBrush}" RadiusX="5" RadiusY="5"/>
                    <StackPanel Margin="20">
                        <TextBlock Text="Нам удалось собрать следующие сведения об ошибке:" Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock x:Name="ErrorCodeText" Text="FLASHLIGHT_BUSY" IsTextSelectionEnabled="True"/>
                        <HyperlinkButton Content="Показать подробности" Padding="0, 1" HorizontalAlignment="Right" Margin="0, 5, 0, 0"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </ScrollViewer>
        <ScrollViewer
            x:Name="StoreScrollViewer"
            Grid.Row="0"
            Padding="20,0,5,0"
            Margin="0, 20, 0, 0"
            IsTabStop="False"
            UseSystemFocusVisuals="False"
            VerticalScrollBarVisibility="Auto"
            VerticalScrollMode="Auto"
            HorizontalScrollMode="Enabled"
            HorizontalScrollBarVisibility="Hidden"
            Visibility="Collapsed">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition x:Name="StoreMainGridColumnDefinition" Width="*" MaxWidth="1860" MinWidth="1860"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel x:Name="StoreStackPanel" Grid.Column="1">
                    
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</Page>
